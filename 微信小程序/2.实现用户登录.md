[1. ç”¨æˆ·ç™»é™†é¡µé¢æ¦‚è¿°](https://www.youtube.com/watch?v=4zuUlmO1v2g)

[2. å®ç°ç”¨æˆ·ç™»å½•ç•Œé¢çš„å¸ƒå±€](https://www.youtube.com/watch?v=HjwlewIAvT0)

![ä¸ªäººä¸­å¿ƒé¡µé¢é™æ€å›¾](https://s3.amazonaws.com/video.udacity-data.com/topher/2018/April/5adda2f4_j-l3-c2-1/j-l3-c2-1.png)

[3.1 ç™»å½•åŠŸèƒ½çš„ä»‹ç»](https://www.youtube.com/watch?v=mIIk6inSvyg) [3.2](https://www.youtube.com/watch?v=86tcSb1o7-M) [3.3](https://www.youtube.com/watch?v=k26ozdyee3E)

å…³äºç½‘ç»œæœåŠ¡ï¼ˆWeb æœåŠ¡ï¼‰ï¼Œä½ å¯ä»¥å‚è€ƒ [é˜®ä¸€å³°](http://www.ruanyifeng.com/blog/) å…ˆç”Ÿçš„[è¿™ç¯‡æ–‡ç« ](http://www.ruanyifeng.com/blog/2009/08/what_is_web_service.html)ã€‚

[4.1 ç™»é™†åŠŸèƒ½çš„åˆæ­¥å®ç°](https://www.youtube.com/watch?v=mIFYT9PKcWc) [4.2](https://www.youtube.com/watch?v=idGOCuauB6E) [4.3](https://www.youtube.com/watch?v=DcxirCwoRRM) [4.4](https://www.youtube.com/watch?v=yVslAjw4794) [4.5](https://www.youtube.com/watch?v=u0FS0lmAMV4) 

ç”±äºå¾®ä¿¡çš„ [ç™»å½•æ¥å£è°ƒç”¨è§„åˆ™å˜åŒ–](https://developers.weixin.qq.com/blogdetail?action=get_post_info&lang=zh_CN&token=1650183953&docid=0000a26e1aca6012e896a517556c01)ï¼Œç›®å‰å·²æ— æ³•ç›´æ¥å¼¹å‡ºä¸Šè¿°4.3è§†é¢‘`2åˆ†27ç§’` å·¦å³çš„æˆæƒæ¡†ï¼Œè€Œæ”¹ä¸ºéœ€è¦ä½¿ç”¨ `button` å®ç°**ç”¨æˆ·ä¿¡æ¯**å¼¹å‡ºæˆæƒæ¡†ã€‚å…·ä½“å˜åŠ¨ä¸ºï¼š

> åœ¨ user.wxml æ–‡ä»¶ä¸­

å°†ä»£ç 

```css
<view class="unlogin-btn">å¾®ä¿¡ç™»å½•</view>
```

æ›¿æ¢ä¸º

```
<button class="unlogin-btn" open-type="getUserInfo" bindgetuserinfo="onTapLogin">å¾®ä¿¡ç™»å½•</button>
```

> åœ¨ user.js æ–‡ä»¶ä¸­

å°† `onLoad` å‡½æ•°ä¸­çš„å…¨éƒ¨ä»£ç ï¼Œç§»è‡³æ–°æ·»åŠ çš„ `onTapLogin` å‡½æ•°ä¸­å»ï¼š

```js
onLoad: function (options) {

},
...
onTapLogin: function() {
  qcloud.setLoginUrl(config.service.loginUrl)
  qcloud.login({
    success: result => {
      console.log('success')
      console.log(result)
    },
    fail: result => {
      console.log('fail')
      console.log(result)
    }
  })
},
```

------



æˆ‘ä»¬å†æ‰“å¼€ wafer SDK çš„æ–‡æ¡£ï¼Œçœ‹åˆ° qcloud.login è¿™ä¸ªå‡½æ•°ã€‚åœ¨å¼•å…¥ qcloud ä»£ç ä¹‹åï¼Œæˆ‘ä»¬é¦–å…ˆè¦è®¾å®šç™»é™†çš„ URLï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ‰§è¡Œ qcloud.login ä»£ç ï¼Œå°è¯•è¿›è¡Œç™»é™†ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®åœ¨ç™»é™†æˆåŠŸåŠå¤±è´¥æƒ…å†µä¸‹çš„æ‰§è¡Œçš„ä»£ç ã€‚

[5.1 ç™»é™†çŠ¶æ€é€»è¾‘çš„è¿›ä¸€æ­¥ä¼˜åŒ–](https://www.youtube.com/watch?v=4gItPODpDus) [5.2](https://www.youtube.com/watch?v=uPB0rlnB8h0) [5.3](https://www.youtube.com/watch?v=6OGG1JtqqEQ) 

![ä¼˜åŒ–åçš„ç™»é™†é€»è¾‘](https://s3.amazonaws.com/video.udacity-data.com/topher/2018/May/5ae988e5_.001/.001.jpeg)

## ğŸ’¡ç‰¹åˆ«æ³¨æ„ğŸ’¡

æ ¹æ®å¾®ä¿¡çš„ [wx.openSetting(OBJECT)](https://developers.weixin.qq.com/miniprogram/dev/api/setting.html) è¯´æ˜ï¼Œ**wx.openSetting** åœ¨ [2.0.7](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) åŠä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­å°†è¢«åºŸå¼ƒã€‚è½¬è€Œä½¿ç”¨ `button` å®ç°ï¼š

```html
<button class="unlogin-btn" open-type='openSetting' bindopensetting="onTapLogin">æˆæƒç™»å½•</button>
```

å¦å¤–ï¼Œå’Œå¤©æ°”å°ç¨‹åºåœ°ç†ä½ç½®è·å–é‚£æ ·ï¼Œæˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸‰ä¸ªå¸¸é‡æ¥è¡¨ç¤ºçŠ¶æ€å˜é‡çš„å€¼ï¼Œç”¨æ¥åœ¨ä¸åŒçš„çŠ¶æ€å˜é‡ä¸‹ï¼Œç»™æŒ‰é’®æ–‡å­—æç¤ºè®¾ä¸åŒçš„å€¼ã€‚

[7. æ€»ç»“](https://www.youtube.com/watch?v=_zkA1ILtsdw) 